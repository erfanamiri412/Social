<div class="mt-4 text-end">
  <button type="button" class="btn btn-outline-info" id="toggleCommentForm">Comment</button>
</div>

<div id="commentFormContainer" class="mt-3" style="display: none;">
  <form method="post" action="{% url 'home:post_comment' post.id %}">
    {% csrf_token %}
    <div class="mb-3">
      <textarea name="body" rows="4" class="form-control" placeholder="Write your comment..." required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Submit Comment</button>
  </form>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleBtn = document.getElementById("toggleCommentForm");
    const formContainer = document.getElementById("commentFormContainer");

    if (toggleBtn && formContainer) {
      toggleBtn.addEventListener("click", function () {
        formContainer.style.display = formContainer.style.display === "none" ? "block" : "none";
        toggleBtn.textContent = formContainer.style.display === "block" ? "Hide Comment" : "Comment";
      });
    }
  });
</script>